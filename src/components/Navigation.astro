---
const { pathname } = Astro.url;

const links = [
  { href: '/timetable', label: 'Timetable' },
  { href: '/expect', label: 'What to Expect' },
  { href: '/pricing', label: 'Pricing' },
  { href: '/competitions', label: 'Competitions' },
  { href: '/location', label: 'Location' },
];

const isActive = (path: string) => pathname === path || (path !== '/' && pathname.startsWith(path));
---

<nav class="bg-white border-b border-neutral-200 sticky top-0 z-50 shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Desktop Navigation -->
    <div class="hidden lg:flex justify-between h-20">
      <div class="flex">
        <div class="flex-shrink-0 flex items-center">
          <a href="/" class="group flex items-center gap-3">
            <img src="/images/logo.png" alt="Newcastle Table Tennis Club Logo" class="h-12 w-auto transition-transform group-hover:scale-105" />
            <div class="flex flex-col">
                <span class="text-xl font-heading font-bold text-neutral-900 tracking-tight leading-none uppercase">Newcastle</span>
                <span class="text-xs font-semibold text-brand-600 tracking-widest leading-none mt-1 uppercase">Table Tennis Club</span>
            </div>
          </a>
        </div>
        <div class="ml-12 flex space-x-8 items-center">
          {links.map(({ href, label }) => (
            <a 
              href={href} 
              class:list={[
                "inline-flex items-center px-1 pt-1 text-sm font-bold uppercase tracking-wide transition-colors h-full border-b-2",
                isActive(href)
                  ? "border-brand-600 text-brand-600"
                  : "border-transparent text-neutral-600 hover:text-brand-600 hover:border-brand-200"
              ]}
            >
              {label}
            </a>
          ))}
        </div>
      </div>
      <div class="ml-6 flex items-center">
        <a 
          href="/timetable" 
          class="bg-brand-600 text-white px-6 py-2.5 rounded text-sm font-bold uppercase tracking-wide hover:bg-brand-700 transition shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 transform hover:-translate-y-0.5"
        >
          First Session Free
        </a>
      </div>
    </div>

    <!-- Mobile Navigation - Always Visible -->
    <div class="lg:hidden py-3">
      <div class="flex items-center justify-between mb-3">
        <a href="/" class="flex items-center gap-2">
          <img src="/images/logo.png" alt="Newcastle Table Tennis Club Logo" class="h-10 w-auto" />
          <div class="flex flex-col">
            <span class="text-sm font-heading font-bold text-neutral-900 tracking-tight leading-none uppercase">Newcastle</span>
            <span class="text-[10px] font-semibold text-brand-600 tracking-widest leading-none uppercase">Table Tennis</span>
          </div>
        </a>
        <a 
          href="/timetable" 
          class="bg-brand-600 text-white px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wide hover:bg-brand-700 transition shadow-sm"
        >
          Free Trial
        </a>
      </div>
      <div class="flex overflow-x-auto scrollbar-hide -mx-4 px-4 space-x-1 pb-2">
        {links.map(({ href, label }) => (
          <a 
            href={href} 
            class:list={[
              "flex-shrink-0 px-3 py-2 text-xs font-bold uppercase tracking-wide rounded transition-colors whitespace-nowrap",
              isActive(href)
                ? "bg-brand-600 text-white"
                : "bg-neutral-100 text-neutral-700 hover:bg-neutral-200"
            ]}
          >
            {label}
          </a>
        ))}
      </div>
    </div>
  </div>
</nav>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
