---
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

interface Props {
	title: string;
    description?: string;
    image?: string;
    schema?: string;
}

const { 
    title, 
    description = "Newcastle PCYC Table Tennis Club - Professional table tennis coaching, competition, and social play in Broadmeadow, NSW. All skill levels welcome.",
    image = "/og-image.jpg",
    schema = ""
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);

// Default Organization/SportsActivityLocation schema
const defaultSchema = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "SportsClub",
  "name": "Newcastle PCYC Table Tennis Club",
  "description": description,
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Young Rd",
    "addressLocality": "Broadmeadow",
    "addressRegion": "NSW",
    "postalCode": "2292",
    "addressCountry": "AU"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "-32.9325",
    "longitude": "151.7280"
  },
  "telephone": "+61 2 4961 4493",
  "email": "enquiries@npttc.com.au",
  "url": "https://www.newcastletabletennis.com.au",
  "priceRange": "$",
  "foundingDate": "1996",
  "sameAs": [
    "https://www.facebook.com/groups/742238756140959"
  ],
  "sport": "Table Tennis",
  "areaServed": [
    {"@type": "City", "name": "Newcastle"},
    {"@type": "City", "name": "Maitland"},
    {"@type": "AdministrativeArea", "name": "Hunter Valley"},
    {"@type": "AdministrativeArea", "name": "Lake Macquarie"}
  ],
  "openingHoursSpecification": [
    { "@type": "OpeningHoursSpecification", "dayOfWeek": "Monday", "opens": "18:30", "closes": "22:00" },
    { "@type": "OpeningHoursSpecification", "dayOfWeek": "Wednesday", "opens": "18:30", "closes": "22:00" },
    { "@type": "OpeningHoursSpecification", "dayOfWeek": "Saturday", "opens": "14:30", "closes": "18:00" }
  ]
});
---

<!doctype html>
<html lang="en-AU" class="h-full scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
        <link rel="canonical" href={canonicalURL} />

        <!-- Preload hero image for faster LCP -->
        <link rel="preload" as="image" href="/images/hero-image.jpg" />
        
        <!-- Fonts: Oswald (Headings) & Roboto (Body) -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
        
		<title>{title}</title>

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content={canonicalURL} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={image} />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content={canonicalURL} />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />
        <meta property="twitter:image" content={image} />

        <!-- Schema.org structured data -->
        <script type="application/ld+json" set:html={defaultSchema}></script>
        {schema && <script type="application/ld+json" set:html={schema}></script>}

        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
        <script is:inline>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-XXXXXXXXXX');
        </script>
	</head>
	<body class="bg-neutral-50 flex flex-col min-h-screen font-sans antialiased text-neutral-900 selection:bg-brand-100 selection:text-brand-900">
        <Navigation />
		<main class="flex-grow">
    		<slot />
        </main>
        <Footer />
	</body>
</html>
