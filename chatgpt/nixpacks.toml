# Railway/Nixpacks configuration for React + Vite SPA
[phases.setup]
nixPkgs = ["nodejs-18_x"]

[phases.install]
# Ensure a clean, reproducible install on Railway (avoids cached/partial node_modules issues)
cmds = ["npm ci --no-audit --no-fund"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "npx serve -s dist -l ${PORT:-3000}"
